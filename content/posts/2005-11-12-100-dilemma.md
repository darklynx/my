---
author: idle_lynx
comments: true
date: 2005-11-12 15:28:24+00:00
layout: post
link: https://wobla.ru/blog/idle_lynx/2193.aspx
slug: '2005/11/dilemma'
title: дилемма
wordpress_id: 100
tags:
- PC
- Из жизни
---

Во вторник (или все же в понедельник), после провалившейся попытки проверить записанный DVD путем обратного копирования его содержания на диск начались проблемы. Поняв, что DVD-drive забил на свою задачу и больше не копирует содержимое на винчестер, я отменил копирование и запустил Winamp, который начал играть ставшую пресловутой за последнюю неделю песней The Devil To Pay.

Самым первым симптомом стало проигрывание упомянутой выше песни. Что-то было не так, я точно помнил, что музыка в песне не должна так заикаться. В системе явно что-то не так. Остановил Winamp.

Task Manager.

Первой жертвой стал Firefox, который появился в топе процессов и с завидным постоянством стал жрать 50% процессорного времени. "Во гад, всегда подозревал, что ты тормозишь мой компьютер," - подумал я и вынес Firefox нажатием одной кнопки.

Снова запустил песню - тот-же интересный звуковой эффект, но вроде бы я никаких плагинов "заезженной пластинки" не ставил для Winampa. Внимание привлекло то, что запуск абсолютно любого процесса, неважно насколько он был маленький и шустрый, забирало 100% CPU примерно на 3-5 сек. после этого процесс нормально функционировал.

Снова Task Manager. "Я найду эту сволочь," - решил я и стал выносить одну задачу за другой, не забыв останавить сервисы, по первому подозрению в тормозах. В обще настоящая чиска в рядах коммунистов. Через несколько мин. список запущенный процессов поредел вдвое, если не больше. Но система и не думала ускоряться, очередная проверка Winamp'ом и я сдался.

Решил прибегнуть к старому, веками испытанному, передающемуся от поколения к поколеню способу - перезагрузка. start -> Turn Off Computer -> Restart

Ааа... на полпути процесса загрузки сообразил, что надо было не перезагружать, а выключить и снова включить систему. В общем так и делаю, оборвав процесс загрузки на середине.

Windows не прощает такого рода халтурного отношения к холеному и оберегаемому ею процессу запуска системы, поэтому при следующуем запуске ругается белыми жирными буквами по черному экрану. Ее ругательства меня особо не волнуют, я знаю, что я делаю и что за мной правда, поэтому игнорирую ее предостережения и требую от нее запустить систему.

Хммм... неужели процесс запуска всегда такой медленный? И почему это, интересно, вращающийся по кругу индиктор притормаживает? Неужели так было всегда? Прикол в том, что я не помню, обычно компьютер включается пока я полусонный иду чистить зубы и промывать холодной водой зеньки, и только после этого возвращаюсь, включаю монитор и захожу в систему. Пока я мысленно носился по воспоминмиям система не стояла на месте, а продиралась сквозь процесс загрузки, и вот на экране появлятеся Welcome Page.

Пользователь/пароль и вот родная зеленая картинка рабочего стола, система инициализируется, но что-то.. что-то не так. Хех, еще бы, запуск системы проходит с такими напрягами, что не нужно и Winamp'а, чтобы убедиться, что проблема осталась. Тем не менее по окончании инициализации системы, запускаю Winamp и играю первую песню: The Devil To Pay. Тот же эффект заезженной пластинки.

Уж не помню, что я еще в тот вечер делал, и грузился в Safe Mode и правил запуск различных сервисов и пр., думал уже откатить конфигурацию системы к предыдущей точке сохранения, но решил, что не стоит, так как я не устанавливал ничего критичного в последнее время.

Между тем, решил поделиться проблемой с Воблычем (где-то в час ночи):

- че-то у меня комп ни с того ни с сего стал по страшному тормозить :|
- вирус :-), или спать хочет
- не похоже, хотя хз, поубивать что ли все нафиг, и заново инсталировать...
- :-)
- :S, любая операция 100% CPU на продолжит. время :(
- странно, перегрузи
- думаешь не делал?
- да думаю что делал..., службу какую запустил может? типа индексатора, гугль
- убью, но не похоже

...

Еще через полчаса:

- ыыыы. пришло время все хренячить нафик :S, похоже
- :-) че вчера ставил?
- ничего в том-то вся и фишка, ща пару двд записывал, после этого пошли тормоза

...

Прообсуждали проблему до 2-х ночи и, руководствуясь словами воблыча: "забей до утра. утро вечера мудреннее к тому же я спать", решил тоже пойти спать. Вдруг и вправду компьютер устал.

Но непродолжительный сон не принес системе облегчения, утренняя загрузка была не намного быстрее ночных. Теперь я точно знал, что процесс загрузки раз в 5-10 медленнее обычного. Еще ночью я подумывал о backup-е, но теперь я был в этом уверен.

Днем, я поделился своей проблемой с одним другом на что тот ответил: "А, было у меня такое, знакомые симптомы." Он поведал мне, что все дело в NTFS. В каком-то месте слетела файловая система и что команда chkdsk с ключиками /f и /r решит мою проблему, у него недавно было похожее и он успешно разрешил проблему. "А как на счет данных? Насколько это безопасно?" - поинтересовался я. "Ну, на моем ноуте все прошло на ура, а вот когда пытались вылечить сервер, заболевший той же проблемой, то потеряли все данные." Н-да, backup, однозначно!

Тут была лишь одна загвоздка, объем данных, резерную копию которых хотелось было выполнить, превышал 60 Гб. Хех, делать нечего, уговорил коллегу по работе съездить в магазин и купил себе новый винт.

2 дня готовился к сражению (делал резерную копию данных). Прикольнула скорость копирования с одного винта на другой, по предварительной оценке 10 Гб/час. Нда, я думал, что современные винты пошустрее из тех что 7200 rpm, правда тут они сидели на 1 шлейфе, может быть все дело в этом.

Поведал о проблеме еще одному коллеге по работе, тот сказал что у него тоже была подобная ситуация (симптомы в точности совпадали), подтвердил диагноз - NTFS и метод профилактики - chkdsk /f /r

Окрыленный я шел в тот вечер домой, ведь я шел на битву, битву с проблемой, которая меня уже достала на протяжении недели, битву, которую я планировал выиграть, так как у меня было ноу хау, ноу хау как победить проблему малой кровью. И даже в случае провала я почти ничего не терял.

Поставил на копирование последний блок данных и пошел на тренировку. Вернувшись с тренировки, без предварительных преговоров развязал войну и вступил в сражение. Начать решил с диска D:

Битва началась, наши резво наступали с флангов, step 1, 2, 3 пролетели в течении 20 мин. войска стремительно наступали, победа маячила на горизонте. Но что это? О!!! А меня ведь предупреждали... 4-й шаг выполняемый chkdsk'ом... н-да.. 1% в течении 5-8 мин. это же 700 мин., это же 10+ часов. В общем, когда ложился спать, 4-й шаг был завершен на 20%.

С утра запустил процесс проверки и исправления ошибок на диске C: и пошел на работу (это была уже пятница).

Вернулся домой полный предвкушения, у меня было примерно полчаса-час до тренировки. Время было, чтобы опробовать результаты победы.

Перазгрузка, вроде бы быстрее, но... что-то все-таки подозрительно, запуск системы - подозрения усиливаются, но мне все еще не верится, ведь у меня же было "ноу хау"! Запускаю Winamp, The Devil To Pay, заезженная пластинка, ыыыыы!!!

Помучил систему еще немного и пошел на тренировку.

Сражение было проиграно, победоносная армия наголову разбита! :(((

Решил поставить новую систему на новый диск, убедиться что все необходимое установлено и работает, затем отформатировать старый и использовать его для backup'ов. Впрочем, такие планы я строил с самого начала, 2+ года без переустановки для Windows - это немало, пора уже и обновить кровь.

Перебросил джамперы на дисках, новый превратил в master, старый установил на slave, зная, что при загрузке BIOS ищет систему на диске C:, а диск C: для нее - это первый логический диск физического диска того, что master, лучше primary :) Решил проверить, найдет ли BIOS систему, расположенную на диске что сидит в позиции slave.

К моему удивлению система стала грузиться, к моему еще большему удивлению запуск прошел как в старые добрые времена: быстро и безболезненно. Имя/пароль, захожу в систему. Хех, быстро.. Winamp, The Devil To Pay. Wow! Ура! Но почему???

Ради интереса проверил производительность копирования: 5 Гб за 6 мин. Это где-то 50 Гб/час. М-да..

Все вернулось, и производительность и скорость, все работает так быстро, как всегда. И теперь я поставлен перед дилеммой: остаться со старой доброй уже обкатанной и настроенной системой и использоавть новый диск для резервного копирования данных или все же установить систему с нуля, настроить, обкатать, избавиться от хлама, накопившегося за прошедшие годы и использовать старый диск для backup'ов?

Сегодня надо будет решить, а завтра снова волейбол.

Оригинал: [https://wobla.ru/blog/idle_lynx/2193.aspx](https://wobla.ru/blog/idle_lynx/2193.aspx)
